# Surge-iPhone/iPad/MacOS
# authorï¼šLevi updatedï¼š20:02:51 05/25/2025
# è¯¥é…ç½®æ–‡ä»¶ä½¿ç”¨v 5.14.6åˆ¶ä½œ
# æœªå¢åŠ æ¨¡å—ï¼Œè¯·è‡ªè¡Œæ·»åŠ æ‚¨éœ€è¦çš„æ¨¡å—

[General]
# > æ—¥å¿—çº§åˆ«
loglevel = notify
show-error-page-for-reject = true
# > å…è®¸ Wi-Fi è®¿é—®
# > Surge ä½œä¸º HTTP/SOCKS5 ä»£ç†æœåŠ¡å™¨å‘ Wi-Fi ç½‘ç»œä¸‹çš„å…¶ä»–è®¾å¤‡æä¾›æœåŠ¡å™¨
allow-wifi-access = true
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = false
# > All Hybrid ç½‘ç»œå¹¶å‘
# > å¼€å¯åï¼Œç­‰åŒäºå¯¹æ‰€æœ‰ç­–ç•¥è®¾ç½® hybrid = trueï¼Œæ‰€æœ‰ TCP è¿æ¥åœ¨å»ºç«‹æ—¶å‡ä¼šå¹¶å‘å°è¯•æ•°æ®ç½‘ç»œå’Œ WiFi è¿æ¥ã€‚
# > é™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰ DNS æŸ¥è¯¢æ“ä½œä¹Ÿéƒ½å°†å¹¶å‘åœ¨æ•°æ®ç½‘ç»œå’Œ WiFi ä¸Šè¿›è¡Œã€‚æ‰€ä»¥è‹¥æƒ³ä½“éªŒè¯¥åŠŸèƒ½ï¼Œè¯·æ‰‹åŠ¨é…ç½®å…¬ç½‘ DNSï¼Œæš‚ä¸æ”¯æŒ DOHã€‚
all-hybrid = false
# > æ˜¯å¦å¯åŠ¨å®Œæ•´çš„ IPv6 æ”¯æŒ (é»˜è®¤å€¼: false)
ipv6 = false
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5
# > Internet æµ‹è¯• URL
internet-test-url = http://captive.apple.com/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > é»˜è®¤å‘ 8.8.8.8 æŸ¥è¯¢ apple.comï¼Œå¯ä½¿ç”¨ proxy-test-udp å‚æ•°ä¿®æ”¹ï¼Œå¦‚ proxy-test-udp = google.com@1.1.1.1
# proxy-test-udp = google.com@1.1.1.1
# > GeoIPæ•°æ®åº“(å› CDNåŠ é€Ÿä¸å¥½ç”¨æ­¤å¤„ä¸é‡‡ç”¨åŠ é€Ÿé“¾æ¥)
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
disable-geoip-db-auto-update = false
# > GeoIP ç¦ç”¨è‡ªåŠ¨æ›´æ–°
udp-policy-not-supported-behaviour = REJECT
# > éšè—çŠ¶æ€æ ä¸Šçš„ VPN å›¾æ ‡
hide-vpn-icon = false
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 119.29.29.29
hijack-dns = *:53
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
force-http-engine-hosts = boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net, *.ott.cibntv.net, 119.18.193.135, 122.14.246.33, 123.59.31.1, 175.102.178.52, 116.253.24.*, 124.193.*, 124.14*, 119.79*, 175.6.26.*, 211.162.*, 220.112.* 220.169.153.*, www.google.cn
# > å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„ DNS æœåŠ¡å™¨
include-all-networks = false
include-local-networks = false
http-api-tls = false
http-api-web-dashboard = true
# encrypted-dns-skip-cert-verification = true
# > Surge Mac ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# > HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
# > è¿œç¨‹æ§åˆ¶å™¨
# > å…è®¸å¤–éƒ¨æ§åˆ¶å™¨è®¿é—® Surgeï¼ŒSurge Dashboard æˆ– Surge CLI è¿›è¡Œç®¡ç†æ§åˆ¶
skip-proxy = *.local,10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 127.0.0.1, 17.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 224.0.0.0/3, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1, localhost, *.local, e.crashlytics.com, captive.apple.com, sequoia.apple.com, seed-sequoia.siri.apple.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, *.id.ui.direct, www.baidu.com, passenger.t3go.cn, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, yunbusiness.ccb.com, www.shanbay.com, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com
use-default-policy-if-wifi-not-primary = false
# > è·³è¿‡ä»£ç†
ipv6-vif = auto
# > Safari è¾“å…¥ 127.0.0.1:6171,å¡«å…¥ HTTP-API å¯†ç å³å¯ã€‚
encrypted-dns-follow-outbound-mode = false
# Surge VIF
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
# > Surge VIF IPv6 Stack
# > å…è®¸ IPv6 é€šè¿‡ Surge VIFã€‚å½“å¸Œæœ› Surge å¤„ç†è¿æ¥åˆ° IPv6 åœ°å€çš„åŸå§‹ TCP è¿æ¥æ—¶éå¸¸æœ‰ç”¨ã€‚å¯é€‰é¡¹ï¼štrueï¼Œfalseï¼Œautoï¼Œalways
always-real-ip = *.battlenet.com, *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, localhost.*.qq.com, *.battlenet.com.cn, *.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*, speedtest.cros.wr.pvp.net
# > å…¼å®¹æ€§ï¼ˆä»… iOS ç‰ˆå¯ç”¨ï¼‰
# compatibility-mode = 0
# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€… IP æ®µï¼Œè¿™äº›ç›®æ ‡ä¸»æœºå°†ä¸ä¼šç”± Surge Proxy å¤„ç†ã€‚
# > (macOS ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœå¯ç”¨äº† Set as System Proxy, è¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†è®¾ç½®.)
# enhanced-mode-by-rule = false
# > å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼ˆä»… macOS ç‰ˆå¯ç”¨ï¼‰
# network-framework = false
# > macOS Only
allow-hotspot-access = true
# > Network Framework
doh-skip-cert-verification = false
# > Always Real IP Hosts
udp-priority = false
# > åŒ…å«æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
use-local-host-item-for-proxy = true
http-listen = 0.0.0.0:7890
socks5-listen = 0.0.0.0:7891
external-controller-access = 123456@127.0.0.1:6170

[Proxy]

[Proxy Group]
# > ç­–ç•¥ç»„ï¼ˆä¸‹é¢çš„èŠ‚ç‚¹ä¿¡æ¯éœ€ä¸å¤–éƒ¨èŠ‚ç‚¹å¯¹åº”ï¼Œè‹¥åˆ é™¤äº†å¤–éƒ¨èŠ‚ç‚¹é‡Œçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨ç­–ç•¥ç»„é‡Œä¹Ÿè¦åˆ é™¤ã€‚ï¼‰
// (å¦‚æœ‰å¤šä¸ªæœºåœºè®¢é˜…ï¼Œè¯·åœ¨ä¸‹æ–¹<å¤–éƒ¨èŠ‚ç‚¹>æŒ‰ç…§æ ¼å¼æ·»åŠ )(å¦‚æ‚¨ä¼šä½¿ç”¨SubStore,åˆ™æ›´æ–¹ä¾¿ç®¡ç†)
èŠ‚ç‚¹é€‰æ‹© = select, update-interval=0, tolerance=200, include-all-proxies=1, policy-regex-filter=.*, url=http://cp.cloudflare.com/generate_204, no-alert=0, hidden=0, include-other-group="æœºåœºè®¢é˜…01, æœºåœºè®¢é˜…02"
# --------------------------------------------------------------------------
// åˆ†æµç­–ç•¥ç»„(æ— éœ€æ±‚å¯åˆ é™¤å¯¹åº”éƒ¨åˆ†å†…å®¹)(å¦‚æ‚¨è¦åˆ é™¤å¯¹åº”å†…å®¹ï¼Œè¯·åŠ¡å¿…å°†<[Rule]>è§„åˆ™ä¸‹å¯¹åº”çš„åˆ†æµæ–¹å¼å˜æ›´)
YouTube = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/youtube_02.png
å›½å¤–åª’ä½“ = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Telegram = select, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/telegram_02.png
Google = select, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/Google.png
AIç³»åˆ— = select, èŠ‚ç‚¹é€‰æ‹©, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/ChatGPT1.png
ç¤¾äº¤åª’ä½“ = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
TikTok = select, èŠ‚ç‚¹é€‰æ‹©, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/TikTok.png
Talkatone = select, èŠ‚ç‚¹é€‰æ‹©, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/Talkatone.png
SafeUM = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0
å…¨çƒåŠ é€Ÿ = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=èŠ‚ç‚¹é€‰æ‹©
BiliBili = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/bilibiliTV3.png
Spotify = select, èŠ‚ç‚¹é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, icon-url=https://cdn.jsdelivr.net/gh/czy13724/LeviIcons@main/leviicons/spotify.png
æ¼ç½‘ä¹‹é±¼ = fallback, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, url=http://www.google.com/generate_204, no-alert=1, hidden=1, include-all-proxies=0
# --------------------------------------------------------------------------
# > å¤–éƒ¨èŠ‚ç‚¹(å¦‚æœä½ æœ‰æœºåœºè®¢é˜…å¯å¯¼å…¥ä¸‹æ–¹é“¾æ¥ï¼Œæ ¼å¼å·²ç»™å‡ºã€‚å¤šä¸ªæœºåœºè®¢é˜…é“¾æ¥å¯æŒ‰ç…§ä¸‹æ–¹æ ¼å¼æ·»åŠ å¹¶åœ¨<ç­–ç•¥ç»„-èŠ‚ç‚¹é€‰æ‹©>å¢åŠ åç§°)(æœºåœºè®¢é˜…02ä¸ºç¤ºä¾‹ï¼Œå¦‚éœ€ä½¿ç”¨è¯·ç§»é™¤å‰é¢çš„#)
æœºåœºè®¢é˜…01 = smart, policy-path=æœºåœºè®¢é˜…é“¾æ¥, update-interval=86400, no-alert=0, hidden=1, include-all-proxies=0
# æœºåœºè®¢é˜…02 = smart, policy-path=æœºåœºè®¢é˜…é“¾æ¥, update-interval=86400, no-alert=0, hidden=1, include-all-proxies=0
#...æ›´å¤šæœºåœºè®¢é˜…é“¾æ¥...
# --------------------------------------------------------------------------
é¦™æ¸¯èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡­ğŸ‡°.*|.*æ¸¯.*|.*Hong.*|.*HK.*), url=http://www.google.com/generate_204, no-alert=0, hidden=1, include-all-proxies=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©
æ—¥æœ¬èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡¯ğŸ‡µ.*|.*æ—¥.*|.*å·æ—¥.*|.*ä¸œäº¬.*|.*å¤§é˜ª.*|.*æ³‰æ—¥.*|.*åŸ¼ç‰.*|.*JP.*|.*Japan.*), url=http://www.google.com/generate_204, no-alert=0, hidden=1, include-all-proxies=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©
å°æ¹¾èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡¨ğŸ‡³.*|.*å°.*|.*Tai.*|.*TW.*), url=http://www.google.com/generate_204, no-alert=0, hidden=1, include-all-proxies=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©
ç¾å›½èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡ºğŸ‡¸.*|.*ç¾.*|.*æ³¢ç‰¹å…°.*|.*è¾¾æ‹‰æ–¯.*|.*ä¿„å‹’å†ˆ.*|.*å‡¤å‡°åŸ.*|.*è´¹åˆ©è’™.*|.*ç¡…è°·.*|.*æ‹‰æ–¯ç»´åŠ æ–¯.*|.*æ´›æ‰çŸ¶.*|.*åœ£ä½•å¡.*|.*åœ£å…‹æ‹‰æ‹‰.*|.*è¥¿é›…å›¾.*|.*èŠåŠ å“¥.*|.*US.*|.*United States.*), url=http://www.google.com/generate_204, no-alert=0, hidden=1, include-all-proxies=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©
æ–°åŠ å¡èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡¸ğŸ‡¬.*|.*å¡.*|.*æ–°.*|.*Singapore.*|.*SG.*), url=http://www.google.com/generate_204, no-alert=0, hidden=1, include-all-proxies=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©
éŸ©å›½èŠ‚ç‚¹ = smart, update-interval=0, tolerance=200, policy-regex-filter=(.*ğŸ‡°ğŸ‡·.*|.*éŸ©.*|.*éŸ“.*|.*é¦–å°”.*|.*KR.*|.*Korea.*), url=http://www.google.com/generate_204, interval=600, include-all-proxies=1, hidden=1, no-alert=1, include-other-group=èŠ‚ç‚¹é€‰æ‹©

[Rule]
# > è™šæ‹Ÿè´§å¸è½¯ä»¶åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/EAlyce/conf@main/Rule/Crypto.list,å…¨çƒåŠ é€Ÿ,extended-matching
# > SafeUM åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/czy13724/Surge@refs/heads/main/Rules/SafeUM.list,SafeUM,extended-matching
# > Gagaoolala åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/czy13724/Surge@refs/heads/main/Rules/surge/GagaOOLala.list,å°æ¹¾èŠ‚ç‚¹,extended-matching,"update-interval=-1"
# > Paypal åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/PayPal/PayPal.list,ç¾å›½èŠ‚ç‚¹
# > YouTubeMusic åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/YouTubeMusic/YouTubeMusic.list,YouTube,"update-interval=604800",no-resolve
# > GitHub åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GitHub/GitHub.list,æ—¥æœ¬èŠ‚ç‚¹
# > OpenAI åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OpenAI/OpenAI.list,AIç³»åˆ—
# > Claude åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Claude/Claude.list,AIç³»åˆ—
# > Gemini åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Gemini/Gemini.list,AIç³»åˆ—
# > æœ¬åœ°/å±€åŸŸç½‘åœ°å€
// LAN
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Lan/Lan.list,DIRECT
RULE-SET,LAN,DIRECT,no-resolve
// DOH DIRECT
PROTOCOL,DOH,DIRECT
# > è‹¹æœç³»åˆ—(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Apple/Apple.list,DIRECT
# > ç¤¾äº¤å¹³å°
// Telegram åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Telegram/Telegram.list,Telegram
IP-CIDR,95.161.76.100/31,REJECT,pre-matching,no-resolve  //Telegramè½¬åœˆåŠ é€Ÿ
// Twitter åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Twitter/Twitter.list,ç¤¾äº¤åª’ä½“
// Reddit åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Reddit/Reddit.list,ç¤¾äº¤åª’ä½“
// WhatsApp åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Whatsapp/Whatsapp.list,ç¤¾äº¤åª’ä½“
// Instagram åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Instagram/Instagram.list,ç¤¾äº¤åª’ä½“
// LinkedIn åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/LinkedIn/LinkedIn.list,ç¤¾äº¤åª’ä½“
// LINE åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Line/Line.list,ç¤¾äº¤åª’ä½“
// Facebook åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Facebook/Facebook.list,ç¤¾äº¤åª’ä½“
// Talkatone åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/czy13724/Surge@main/Rules/Talkatone.list,Talkatone
# > å¾®ä¿¡ åˆ†æµ(é»˜è®¤ç›´è¿)(å› æœ‰å¯¹åº”æ¨¡å—é»˜è®¤ç¦ç”¨é˜²æ­¢å†²çª)(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
# RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/WeChat/WeChat.list,DIRECT,"update-interval=604800"
# > æ¸¸æˆç³»åˆ—(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
// Epic åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Epic/Epic.list,DIRECT
// Sony åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Sony/Sony.list,DIRECT
// Steam åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Steam/Steam.list,DIRECT
// Nintendo åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Nintendo/Nintendo.list,DIRECT
# > æµåª’ä½“ç³»åˆ—
// ç½‘æ˜“äº‘éŸ³ä¹ åˆ†æµï¼ˆé»˜è®¤ç›´è¿ï¼‰(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/NetEaseMusic/NetEaseMusic.list,DIRECT
// Spotify åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Spotify/Spotify.list,Spotify
// TikTok åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
DOMAIN-SUFFIX,tiktokcdn.com,TikTok
DOMAIN-SUFFIX,tiktokcdn-us.com,TikTok
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/TikTok/TikTok.list,TikTok
// YouTube åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/YouTube/YouTube.list,YouTube
// Netflix åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Netflix/Netflix.list,å›½å¤–åª’ä½“
// Disney åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Disney/Disney.list,å›½å¤–åª’ä½“
// BiliBili åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/BiliBili/BiliBili.list,BiliBili
// å›½å†…åª’ä½“(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaMedia/ChinaMedia.list,DIRECT
// å›½å¤–åª’ä½“(å› CDNåŠ é€Ÿæ€»æŠ¥é”™æ­¤å¤„ä¸é‡‡ç”¨åŠ é€Ÿé“¾æ¥)(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,å›½å¤–åª’ä½“
# > è°·æ­Œç³»åˆ—
// Google Voice(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GoogleVoice/GoogleVoice.list,ç¾å›½èŠ‚ç‚¹
// Google(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Google/Google.list,Google
# > Proxy
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Proxy/Proxy.list,æ¼ç½‘ä¹‹é±¼
DOMAIN-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Proxy/Proxy_Domain.list,æ¼ç½‘ä¹‹é±¼
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Global/Global.list,æ¼ç½‘ä¹‹é±¼
# > ä¸‹è½½
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Download/Download.list,DIRECT
# > Verizon åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Verizon/Verizon.list,ç¾å›½èŠ‚ç‚¹
# > å¼€æºCDNåŠ é€Ÿ
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,èŠ‚ç‚¹é€‰æ‹©
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,èŠ‚ç‚¹é€‰æ‹©
# é˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
# > China ASN
DOMAIN-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/China/China_Domain.list,DIRECT // China Domain
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/China/China_Resolve.list,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaASN/ChinaASN_Resolve.list,DIRECT // China ASN
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaDNS/ChinaDNS_Resolve.list,DIRECT // China DNS
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Lan/Lan_Resolve.list,DIRECT
GEOIP,CN,DIRECT,no-resolve
# --------------------------------------------------------------------------
# > å»å¹¿å‘Š é»˜è®¤ç¦ç”¨
// czy13724è‡ªç”¨å»å¹¿å‘Š(å¯è‡ªå»ºå»å¹¿å‘Šåˆé›†ï¼Œå¦‚æœ‰è¯·æ›¿æ¢ä¸‹æ–¹é“¾æ¥)(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/czy13724/Surge@main/Anti-Ads/MyBlockAds.list,REJECT
# > Talkatoneå»å¹¿å‘Š(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
RULE-SET,https://cdn.jsdelivr.net/gh/czy13724/Surge@/main/Anti-Ads/talkatone.list,REJECT,extended-matching,"update-interval=-1"
// å»å¹¿å‘Šå¤§åˆé›†(éƒ¨åˆ†é»˜è®¤ç¦ç”¨ï¼Œæ‚¨äº†è§£éœ€æ±‚å¯è‡ªè¡Œå¼€å¯)
# > Sukkaçš„å»å¹¿å‘Šè§„åˆ™
// Non IPéƒ¨åˆ†
// åŸºç¡€æ‹¦æˆªåŸŸå
# DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT,pre-matching,extended-matching
// é¢å¤–æ‹¦æˆªåŸŸåï¼Œå¯ç”¨æ—¶éœ€è¦æ­é…åŸºç¡€ä¸€èµ·ä½¿ç”¨
// åœ¨ Surge 5 for Macï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰ï¼Œå³ä½¿åŒæ—¶å¯ç”¨åŸºç¡€å’Œé¢å¤–çš„æ‹¦æˆªåŸŸåä¹Ÿä¸ä¼šå¯¼è‡´åŒ¹é…æ€§èƒ½ä¸‹é™æˆ–å†…å­˜å ç”¨è¿‡é«˜
# DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject_extra.conf,REJECT,pre-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT,pre-matching,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-no-drop.conf,REJECT-NO-DROP,pre-matching,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP,pre-matching
// URL-REGEX éœ€æ­é… Surge æ¨¡å— https://ruleset.skk.moe/Modules/sukka_mitm_hostnames.sgmodule ä½¿ç”¨ï¼ŒMITM å’Œ URL-REGEX æ€§èƒ½å¼€é”€æå¤§ï¼Œä¸æ¨èä½¿ç”¨
# RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-url-regex.conf,REJECT
// IPéƒ¨åˆ†
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP
# --------------------------------------------------------------------------
# > éšç§ä¿æŠ¤
DOMAIN-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Privacy/Privacy_Domain.list,REJECT // ä¿æŠ¤éšç§
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Privacy/Privacy.list,REJECT // ä¿æŠ¤éšç§IP
# > åè¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Hijacking/Hijacking.list,REJECT
# > BlcokHttpDNS
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/BlockHttpDNS/BlockHttpDNS.list,REJECT
# > ChinaMax
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaMax/ChinaMax.list,DIRECT
# > è§„åˆ™ä¿®æ­£(ç›´è¿)
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Direct/Direct.list,DIRECT
# > linuxè®ºå›åˆ†æµ(æ— éœ€æ±‚å¯åˆ é™¤è¯¥éƒ¨åˆ†å†…å®¹)
DOMAIN-SUFFIX,linux.do,DIRECT
# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,æ¼ç½‘ä¹‹é±¼,dns-failed

[Host]
*.icloud.* = server:223.5.5.5
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > PlayStation
*.dl.playstation.net = server:119.29.29.29
# > æ·˜å®
*.taobao.com = server:223.5.5.5
# > å¤©çŒ«
*.tmall.com = server:223.5.5.5
# > é˜¿é‡Œäº‘
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
# > è…¾è¿…
*.tencent.com = server:119.29.29.29
# > è…¾è®¯QQ
*.qq.com = server:119.29.29.29
# > å¾®ä¿¡
*.weixin.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
# > äº¬ä¸œ
*.jd.com = server:119.29.29.29
# > å“”å“©å“”å–±
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
# > huya
*.huya.com = server:119.29.29.29
# > ç½‘æ˜“
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
# > å°ç±³
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
# > Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib

[URL Rewrite]
# > Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
# > Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302

[Header Rewrite]
# > è§£å†³githubé€Ÿç‡é™åˆ¶è¿”å›429é—®é¢˜
http-request ^https:\/\/(github\.com|(raw|gist|avatars)\.githubusercontent\.com)\/ header-replace Accept-Language en-us

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = www.google.*
ca-passphrase = 
ca-p12 = 
[Script]
# æ±‡ç‡æ³¢åŠ¨æŸ¥è¯¢ = type=cron,cronexp=0 9 * * *,timeout=6000,script-path=https://raw.githubusercontent.com/Peng-YM/QuanX/master/Tasks/exchange.js,script-update-interval=-1
# ä»Šæ—¥æ²¹ä»· = type=cron,cronexp=0 9 * * *,timeout=6000,script-path=https://raw.githubusercontent.com/Toperlock/Quantumult/main/task/oil_price.js,script-update-interval=-1
# Boxjså¤‡ä»½ = type=cron,cronexp=59 8 * * *,timeout=6000,script-path=https://raw.githubusercontent.com/dompling/Script/master/gist/backup.js,script-update-interval=-1
# Gistæ¢å¤ = type=cron,cronexp=59 8 * * *,wake-system=0,script-path=https://raw.githubusercontent.com/dompling/Script/master/gist/restore.js,script-update-interval=-1,timeout=6000
# > SubStoreèŠ‚ç‚¹è®¢é˜…æ›´æ–°
# SubStoreèŠ‚ç‚¹æ›´æ–° = type=cron,cronexp=50 */6 * * *,timeout=6000,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js,argument="",script-update-interval=-1
